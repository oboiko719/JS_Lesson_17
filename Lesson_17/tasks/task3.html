<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta content="IE=edge" http-equiv="X-UA-Compatible">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<title>Document</title>
</head>
<body>
	<h1>Задача 3</h1>
	<p>    
		Створити клас Нагадувач. Кожні вказані кількості секунд (використати setInterval) 
		програма нагадує про якусь подію (це просто текст) і також виводиться порядковий номер 
		скільки раз вже нагадування було. 		Зробити так, щоб неможна було зробити одночасно 
		декілька об’єктів-нагадувачів. Методи зупинки таймера, метод зміни повідомлення без зупинки таймера
			</p>
	<script>
	class Reminder {
		static remainderRef

		constructor(message1, message2, interval, intervalChangeMessage, stopCount) {

			if (Reminder.remainderRef) {
				return Reminder.remainderRef
			}

			this.message1 = message1
			this.message2 = message2
			this.interval = interval
			this.intervalChangeMessage = intervalChangeMessage
			this.stopCount = stopCount

			this.count = 0;
    	this.timer = null

			Reminder.remainderRef = this
		}

		startReminder() {
			this.timer = setInterval(() => {
				this.count ++
				console.log(`Нагадування ${this.count} - ${this.message1}`)
				if (this.count === this.stopCount) {
					this.stopReminder()
				}
			},this.interval * 1000)
		}

		stopReminder() {
			clearInterval(this.timer)
			console.log("Нагадування зупинено.")
		}

		changeMessage() {
			setTimeout(() => {
				this.message1 = this.message2
				console.log("Повідомлення змінено.")
			}, this.intervalChangeMessage * 1000)
		}		
	}

	const reminder = new Reminder("Hello", "Buy", 1, 5, 10);
  reminder.startReminder();
  reminder.changeMessage()
	</script>
</body>
</html>